<div class="row">
  <div class="col-xs-12 col-md-8 offset-md-2">
    <form class="card comment-form" #form>
      <div class="card-block">
        <textarea
          #comment
          class="form-control"
          placeholder="Write a comment..."
          rows="3"
        ></textarea>
      </div>
      <div class="card-footer">
        <img [src]="getAvatar(user$ | async)" class="comment-author-img" />
        <button class="btn btn-sm btn-primary" (click)="addComment(form)">
          Post Comment
        </button>
      </div>
    </form>

    @if(isLoading$ | async) {
    <p>Loading comments...</p>
    } @else { @if(comments$ | async; as comments) {
    <div>
      @for(comment of comments; track comment.id) {
      <app-comment [comment]="comment" />
      }
    </div>
    } }
  </div>
</div>
